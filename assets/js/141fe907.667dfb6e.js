"use strict";(self.webpackChunkprime_docs=self.webpackChunkprime_docs||[]).push([[995],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return f}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),p=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},c=function(e){var n=p(e.components);return r.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(t),f=o,m=d["".concat(l,".").concat(f)]||d[f]||u[f]||a;return t?r.createElement(m,i(i({ref:n},c),{},{components:t})):r.createElement(m,i({ref:n},c))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=t[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7107:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var r=t(7462),o=t(3366),a=(t(7294),t(3905)),i=["components"],s={},l="Install PrimeData Web SDKs",p={unversionedId:"setup/install-js-sdk",id:"setup/install-js-sdk",title:"Install PrimeData Web SDKs",description:"Follow step by step below to install PrimeData JS SDK",source:"@site/docs/setup/install-js-sdk.md",sourceDirName:"setup",slug:"/setup/install-js-sdk",permalink:"/docs/docs/setup/install-js-sdk",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Register an Event Schema",permalink:"/docs/docs/setup/creating-event-schema"},next:{title:"Events Tracking API",permalink:"/docs/docs/ingesting-events"}},c=[{value:"Follow step by step below to install PrimeData JS SDK",id:"follow-step-by-step-below-to-install-primedata-js-sdk",children:[],level:3}],u={toc:c};function d(e){var n=e.components,t=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"install-primedata-web-sdks"},"Install PrimeData Web SDKs"),(0,a.kt)("h3",{id:"follow-step-by-step-below-to-install-primedata-js-sdk"},"Follow step by step below to install PrimeData JS SDK"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Create new file ",(0,a.kt)("strong",{parentName:"li"},"OneSignalSDKWorker.js")," contain content below into root folder of project:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"importScripts('https://cdn.onesignal.com/sdks/OneSignalSDKWorker.js');\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Create new file ",(0,a.kt)("strong",{parentName:"li"},"firebase-messaging-sw.js")," contain content below into root folder of project:")),(0,a.kt)("p",null,"a. Content file ",(0,a.kt)("inlineCode",{parentName:"p"},"firebase-messaging-sw.js"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'importScripts("https://dev.primedata.ai/cdn/sdk/firebase-messaging-sw.js");\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Create new file ",(0,a.kt)("strong",{parentName:"li"},"posjs-worker.js")," contain content below into root folder of project:\nb. Content file ",(0,a.kt)("inlineCode",{parentName:"li"},"posjs-worker.js"),":")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'importScripts("https://dev.primedata.ai/cdn/sdk/posjs-worker.js");\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Add JS SDK in the root folder:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},'<script>\n !function(){var follower=window.follower=window.follower||[];if(!follower.initialize)if(follower.invoked)window.console&&console.error&&console.error("PrimeDATA snippet included twice.");else{follower.invoked=!0;follower.methods=["initOneSignal", "initWebPush","initWebPopup","utils","trackSubmit","trackClick","trackLink","trackForm","pageview","personalize","identify","initialize","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];follower.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);follower.push(e);return follower}};for(var t=0;t<follower.methods.length;t++){var e=follower.methods[t];follower[e]=follower.factory(e)}follower.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://dev.primedata.ai/powehi/mining.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);follower._loadOptions=e};follower.SNIPPET_VERSION="0.1.0";\n    follower.load();\n    const primeJsOpts = {\n      scope: <YOUR-SCOPE>,\n      url: \'https://dev.primedata.ai/powehi\',\n      writeKey: <YOUR-WRITE-KEY>,\n      initialPageProperties: {\n        pageInfo: { \n         destinationURL: location.href\n        }\n      },\n      detectAdBlock: {\n        enable: false,\n        bannerMessage: "You are on the ad blocker. Our feature does not work well when your ad blocker is enabled on this site. To fully enjoy the service, please disable the ad blocker on our site. We guarantee that there will be no ads on our site.",\n        closeButtonLabel: "close"\n      },\n      webPush: {\n        enabled: false,\n        options: {\n          showLogs: false,\n          endpoint: \'https://dev.primedata.ai\',\n          firebaseMessagingSwUrl: "./firebase-messaging-sw.js",\n          firebaseConfig: {\n            authDomain: <authDomain>,\n            projectId: <projectId>,\n            storageBucket: <storageBucket>,\n            messagingSenderId: <messagingSenderId>,\n            appId: <appId>,\n            apiKey: <apiKey>\n          }\n        }\n      },\n      webPopup: {\n        enabled: true,\n        options: {\n          showLogs: true,\n          onsiteWorkerPath: "./posjs-worker.js",\n          endpoint: \'https://dev.primedata.ai\'\n        }\n      },\n      oneSignal: {\n        enabled: false,\n        options: {\n          showLogs: false,\n          embedOneSignalSDK: false,\n          appId: <appId>\n        }\n      }\n    };\n    follower.initialize({"Prime Data": primeJsOpts})\n    \n    if (primeJsOpts.webPush && primeJsOpts.webPush.enabled) {\n      if (firebase && !firebase.apps.length) {\n        firebase.initializeApp(primeJsOpts.webPush.options.firebaseConfig);\n      }\n      follower.initWebPush(primeJsOpts.webPush.options);\n    }\n  \n    if(primeJsOpts.webPopup && primeJsOpts.webPopup.enabled){\n      follower.initWebPopup(primeJsOpts);\n    }\n    \n    if (primeJsOpts.oneSignal && primeJsOpts.oneSignal.enabled) {\n      follower.initOneSignal(primeJsOpts);\n    }\n  }}();\n<\/script>\n')))}d.isMDXComponent=!0}}]);