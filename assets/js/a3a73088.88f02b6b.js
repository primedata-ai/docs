"use strict";(self.webpackChunkprime_docs=self.webpackChunkprime_docs||[]).push([[34],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=i.createContext({}),c=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,y=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return n?i.createElement(y,a(a({ref:t},p),{},{components:n})):i.createElement(y,a({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var c=2;c<o;c++)a[c]=n[c];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}d.displayName="MDXCreateElement"},946:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return u},default:function(){return y}});var i,r=n(7462),o=n(3366),a=(n(7294),n(3905)),l=["components"],s={},c="Entities",p={unversionedId:"entities",id:"entities",title:"Entities",description:"The entity concept is an earlier missing piece in our model of a full sentence:",source:"@site/docs/entities.md",sourceDirName:".",slug:"/entities",permalink:"/docs/entities",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Events Dynamics",permalink:"/docs/events-dynamics"}},u=[{value:"Concepts",id:"concepts",children:[{value:"Entity Types",id:"entity-types",children:[],level:3},{value:"Entity Items",id:"entity-items",children:[],level:3},{value:"Entity Collections",id:"entity-collections",children:[],level:3}],level:2},{value:"Entity Creation API",id:"entity-creation-api",children:[],level:2}],d=(i="Admonition",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",e)}),m={toc:u};function y(e){var t=e.components,n=(0,o.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"entities"},"Entities"),(0,a.kt)("p",null,"The entity concept is an earlier missing piece in our model of a full sentence:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Subject")," (profile) + ",(0,a.kt)("strong",{parentName:"p"},"Verb")," (event) + ",(0,a.kt)("strong",{parentName:"p"},"Object")," (entity)."),(0,a.kt)("h2",{id:"concepts"},"Concepts"),(0,a.kt)("h3",{id:"entity-types"},"Entity Types"),(0,a.kt)("p",null,"Similar to event types, entity types indicate the class of a certain entity item."),(0,a.kt)("p",null,"Examples: Product, Voucher, WebPage, etc."),(0,a.kt)("h3",{id:"entity-items"},"Entity Items"),(0,a.kt)("p",null,"Represent an entity object. Entity items must be individually addressable through an ID (if they are Products, the IDs could be SKUs; for vouchers, they could be voucher codes)."),(0,a.kt)("h3",{id:"entity-collections"},"Entity Collections"),(0,a.kt)("p",null,"Are simply labels over entity items."),(0,a.kt)("p",null,"Unlike Entity Item, which is synchronized as a whole, and ",(0,a.kt)("strong",{parentName:"p"},"the data source solely dictates the entity item\u2019s data"),". In contrast, entity collection maintenance is a ",(0,a.kt)("strong",{parentName:"p"},"mixed responsibility"),", which is subdivided into two:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The binding of items and their collection. (This is an n-to-n relationship. An entity item could \u201cbelong\u201d to multiple collections, and a collection could be labeled over multiple entity items.)"),(0,a.kt)("li",{parentName:"ul"},"The intrinsic properties of the collection itself (collection\u2019s name, description, status, etc.)")),(0,a.kt)("p",null,"Both of these pieces of information are derived from the data source ",(0,a.kt)("em",{parentName:"p"},"and")," could be modified directly by CDP users/admins. This explains the reason why entity collection operations are also exposed through Unomi Restful API (while events, profiles, and entity items can only be created and updated via the event collection/ingestion channel)."),(0,a.kt)("h2",{id:"entity-creation-api"},"Entity Creation API"),(0,a.kt)(d,{type:"caution",icon:"\u26a0\ufe0f",mdxType:"Admonition"},(0,a.kt)("p",null,"Before calling this API, the Entity Schema must be registered on the CDP app first.")),(0,a.kt)("p",null,"Entity ingestion leverage the same mechanism with ",(0,a.kt)("a",{parentName:"p",href:"/docs/events-push"},"event ingestion"),".\nThe notable difference is that the ",(0,a.kt)("inlineCode",{parentName:"p"},"eventType")," is always ",(0,a.kt)("inlineCode",{parentName:"p"},'"SaveEntity"')," and the placement of the object's properties:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ curl -X POST "https://dev.primedata.ai/powehi/smile"  \\\n      -H "X-Client-Id: ${YOUR_DATA_SOURCE_ID}" \\\n      -H "X-Client-Access-Token: ${YOUR_DATA_SOURCE_WRITE_KEY}" \\\n      -H \'Content-Type: application/json\' \\\n      -d \'{\n            "sessionId": "45d01662-45ad-4f52-9d4f-ef77fde0b17a",\n            "events": [\n              {\n                "eventType": "SaveEntity",\n                "properties": {\n                  "url": "https://example.com"\n                },\n                "scope": ${YOUR_DATA_SOURCE_ID},\n                "timeStamp": "2021-10-15T18:49:00+07:00",\n                "source": { "itemId": "_", "itemType": "_", "scope": ${YOUR_DATA_SOURCE_ID} },\n                "target": { "itemId": "_", "itemType": "_", "scope": ${YOUR_DATA_SOURCE_ID} }\n              }\n            ]\n          }\' \\\n      -D -\n')))}y.isMDXComponent=!0}}]);